apply plugin: "kotlin"

buildscript {
    ext.kotlin_version = '1.2.71'

    repositories {
        mavenCentral()
    }

    dependencies {
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
    }
}

repositories {
    mavenCentral()
}


dependencies {
    compile "org.jetbrains.kotlin:kotlin-stdlib"
    testCompile 'junit:junit:4.12'
}

task printer {
    println("=============================================")
    project.properties.entrySet().each {
        println("${it.key} => ${it.value}")
    }

    println("=============================================")

    File propsFile = project.file(project.properties["teamcity.configuration.properties.file"]);
    Properties props = new Properties();
    InputStream inStream = null;
    try {
        inStream = new FileInputStream(propsFile);
        props.load(inStream);
    } catch (IOException ignore) {
    } finally {
        if (null != inStream) {
            try {
                inStream.close();
            } catch (IOException ignore) {}
        }
    }

    props.entrySet().each { println("${it.key} => ${it.value}") }

    println("=============================================")
}
